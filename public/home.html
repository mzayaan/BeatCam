<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeatCam</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="icon"  href="/assets/img/logo.png">
    <link rel="stylesheet" href="../assets/css/main.css">
    <style>
        body {
            background-color: #f4f4f4;
            min-height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
        }

        #blur {
            z-index: 5;
            position: absolute; bottom: 160px; width: 165px; height: 165px;
            opacity: 0.25;
        }
        #playButton {
            z-index: 6;
            position: absolute; bottom: 180px; width: 125px; height: 125px;
            background-color: black; color: white; font-size: 28px;
            font-family: Impact sans-serif; text-shadow: 0 0 12px white;
            font-weight: bold;
        }
        #welcome {
            position: absolute;
            bottom: 350px;
            color: white;
            font-size: 24px;
            font-family: Impact sans-serif;
            text-shadow: 0 0 10px white;
            font-weight: bold;
            text-align: center;
            width: 100%;
            white-space: normal;
        }

        main {
            background-image: url('/assets/img/bg_home.jpg');
            background-size: cover;
            background-position: top;
            background-repeat: no-repeat;
            flex: 1;
            width: 100%;
        }
    </style>
</head>
<body>
<!-- Main Header -->
<header id="header"></header>

<main>
    <div class="d-flex justify-content-center align-items-center" style="height: 100%;">
        <p id="welcome">What'cha beat are ya doing today?</p>
        <a href="capture.html" id="playButton" class="btn rounded-circle d-flex justify-content-center align-items-center">
            START
        </a>
        <img src="/assets/img/effect_blur_low.png" id="blur" alt="Blur">
    </div>
</main>

<!-- Scripts -->
<script src="../assets/js/app.js"></script>
<script src="../assets/js/pwa-init.js"></script>

<script>
    const button = document.getElementById('playButton');
    let r = 128, g = 0, b = 128; // Start with purple
    let step = 2;
    let mode = 0;

    setInterval(() => {
        switch (mode) {
            case 0: // purple to pink
                r += step;
                if (r >= 256) mode = 1;
                break;
            case 1: // pink to yellow
                b -= step;
                g += step;
                if (b <= 0) mode = 2;
                break;
            case 2: // yellow to red
                g -= step;
                if (g <= 0) mode = 3;
                break;
            case 3: // red back to purple
                r -= step;
                b += step;
                if (r <= 128) {
                    mode = 0;
                    r = 128;
                    b = 128;
                }
                break;
        }
        button.style.border = `5px solid rgb(${r}, ${g}, ${b})`;
    }, 10);

    const blur = document.getElementById('blur');
    button.addEventListener('mouseenter', () => {
        blur.style.opacity = '1';
    });
    button.addEventListener('mouseleave', () => {
        blur.style.opacity = '0.25';
    });
</script>

</body>
</html>