<!DOCTYPE html>
<html lang="en">
<head id="master-head">
    <title>BeatCam - Studio</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#822BD9">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon"  href="assets/img/logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="assets/css/main.css">


    <style>
        /* -------------------------------------------------
           GLOBAL STYLE
        ------------------------------------------------- */
        body {
            margin: 0;
            padding: 0;
            background: #0f0f0f;
            color: white;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
        }

        /* HEADER + BOTTOM NAV */
        #master-header, #bottomNav {
            width: 100%;
            flex-shrink: 0;
            z-index: 500;
        }

        /* -------------------------------------------------
           VIDEO PREVIEW AREA
        ------------------------------------------------- */
        #videoPreviewContainer {
            width: 100%;
            flex: 40%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: black;
            position: relative;
            overflow: hidden;
        }

        #studioVideo {
            max-height: 100%;
            max-width: 100%;
            border-radius: 10px;
        }

        /* Overlays */
        .overlay-item {
            position: absolute;
            color: white;
            font-weight: bold;
            padding: 4px;
            user-select: none;
            z-index: 300;
        }

        .resize-handle {
            position: absolute;
            width: 18px;
            height: 18px;
            background: rgba(255,255,255,0.6);
            border-radius: 4px;
            right: 0;
            bottom: 0;
            cursor: nwse-resize;
            z-index: 999;
        }

        /* -------------------------------------------------
           TIMELINE SECTION
        ------------------------------------------------- */
        #timelineContainer {
            width: 100%;
            flex: 35%;
            background: #121212;
            border-top: 1px solid #222;
            padding: 8px 0;
            position: relative;
            overflow: hidden;
        }

        #timelineTracks {
            width: 95%;
            margin: auto;
            position: relative;
        }

        .timeline-track {
            width: 100%;
            height: 40px;
            background: #1d1d1d;
            border-radius: 6px;
            position: relative;
            margin-bottom: 12px;
            overflow: hidden;
        }

        .overlay-track {
            width: 100%;
            height: 25px;
            background: #2a2a2a;
            border-radius: 4px;
            margin-bottom: 12px;
            overflow: hidden;
        }

        .overlay-block {
            height: 100%;
            background: #ff44aa;
            border-radius: 4px;
            margin-right: 6px;
            display: inline-block;
        }

        /* Trim Handles */
        .trim-handle {
            width: 12px;
            top: 0;
            bottom: 0;
            background: #ffcc00;
            position: absolute;
            z-index: 20;
            cursor: ew-resize;
            border-radius: 4px;
        }

        .trim-left { left: 0; }
        .trim-right { right: 0; }

        /* Playhead */
        #playhead {
            width: 3px;
            background: red;
            height: 100%;
            position: absolute;
            top: 0;
            z-index: 50;
        }

        /* Beat Markers */
        .beat-marker {
            width: 3px;
            height: 100%;
            background: #ff44aa;
            position: absolute;
            opacity: 0.9;
            box-shadow: 0 0 8px #ff44aa;
        }

        /* -------------------------------------------------
           TOOLS PANEL
        ------------------------------------------------- */
        #toolsPanel {
            width: 100%;
            flex: 25%;
            background: #181818;
            border-top: 1px solid #333;
            display: flex;
            align-items: center;
            padding: 12px 5px 80px;
            flex-wrap: wrap;
            gap: 5px;
        }

        .tool-button {
            background: #262626;
            color: white;
            border: 1px solid #333;
            padding: 12px 18px;
            border-radius: 5px;
            white-space: nowrap;
            cursor: pointer;
            transition: 0.2s ease;
            font-size: 15px;
            font-weight: 600;
        }

        .tool-button:hover {
            background: #333;
            transform: scale(1.05);
        }

        .tool-button:active {
            transform: scale(0.95);
            background: #444;
        }
    </style>
</head>

<body style="overflow-y: scroll;">
<div id="master-header"></div>

<!-- -------------------------------------------------
     VIDEO PREVIEW
------------------------------------------------- -->
<div id="videoPreviewContainer">
    <video id="studioVideo" controls></video>
</div>

<!-- -------------------------------------------------
     TIMELINE SECTION
------------------------------------------------- -->
<div id="timelineContainer">

    <div id="timelineTracks">

        <!-- Main Video Track -->
        <div class="timeline-track" id="videoTrack">
            <div class="trim-handle trim-left"></div>
            <div class="trim-handle trim-right"></div>
            <div id="playhead"></div>
        </div>

        <!-- Beat Track -->
        <div class="timeline-track" id="beatTrack"></div>

        <!-- Overlay Track -->
        <div class="overlay-track" id="overlayTrack"></div>

    </div>
</div>

<!-- -------------------------------------------------
     TOOLS PANEL
------------------------------------------------- -->
<div id="toolsPanel">
    <div class="tool-button" id="toolTrim">Trim</div>
    <div class="tool-button" id="toolFilter">Filters</div>
    <div class="tool-button" id="toolOverlay">Overlays</div>
</div>

<div id="editorModal"
     style="display:none; position:fixed; left:0; bottom:0; width:100%;
            background:#181818; padding:15px; border-top:2px solid #333;
            z-index:9999; text-align:center;">

    <h4 id="editorModalTitle" style="color:#fff; margin-bottom:10px;"></h4>

    <div id="editorModalButtons"
         style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap;">
    </div>

    <button onclick="closeEditorModal()"
            style="margin-top:10px; padding:8px 20px; background:#333;
                   color:#fff; border:none; border-radius:6px;">
        Close
    </button>
</div>

<!-- Injected Bottom Nav -->
<div id="bottomNav"></div>

<!-- -------------------------------------------------
     SCRIPTS
------------------------------------------------- -->
<script src="assets/js/app.js"></script>
<script src="assets/js/studio/studio.js"></script>
<script src="assets/js/studio/timeline.js"></script>
<script src="assets/js/studio/editor-tools.js"></script>
<script src="assets/js/studio/editor-overlays.js"></script>



</body>
</html>
